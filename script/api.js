const API_BASE="http://127.0.0.1:5000";async function callApi(e,t="GET",n=null){const r=`${API_BASE}${e}`,o={method:t,headers:{"Content-Type":"application/json"}};if(n)o.body=JSON.stringify(n);try{const e=await fetch(r,o);if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.error||`HTTP error ${e.status}`)}return await e.json()}catch(e){console.error("[API ERROR]",e);throw e}}
